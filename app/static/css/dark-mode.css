/* 
 * Dark Mode Styles for Equipment Tracker
 * This file contains all dark mode specific styles
 */

/* Base dark mode body and background */
:root.dark-mode,
html.dark-mode,
body.dark-mode,
.dark-mode {
  --bs-body-bg: #121212 !important;
  --bs-body-color: #e0e0e0 !important;
  --bs-card-bg: #2d2d2d !important;
  --bs-card-border-color: #3d3d3d !important;
  --bs-navbar-active-color: #fff !important;
  --bs-table-color: #e0e0e0 !important;
  --bs-table-border-color: #3d3d3d !important;
  --bs-table-striped-bg: rgba(255, 255, 255, 0.05) !important;
  
  background-color: #121212 !important;
  color: #e0e0e0 !important;
}

/* Strengthen selector for body in dark mode */
html[class*="dark-mode"],
body[class*="dark-mode"] {
  background-color: #121212 !important;
  color: #e0e0e0 !important;
}

/* Direct element targeting for key components when dark mode is active */
html.dark-mode body, 
body.dark-mode {
  background-color: #121212 !important;
  color: #e0e0e0 !important;
}

/* Ensure the entire page gets the dark background even if classes are missing */
html.dark-mode {
  background-color: #121212 !important;
}

/* Navbar adjustments */
body.dark-mode .navbar,
body.dark-mode .navbar-dark {
  background-color: #1f1f1f !important;
}

body.dark-mode .navbar-dark .navbar-nav .nav-link {
  color: rgba(255, 255, 255, 0.8) !important;
}

body.dark-mode .navbar-dark .navbar-nav .nav-link:hover,
body.dark-mode .navbar-dark .navbar-nav .nav-link:focus,
body.dark-mode .navbar-dark .navbar-nav .nav-link.active {
  color: #ffffff !important;
}

/* Card adjustments */
body.dark-mode .card:not(.bg-primary):not(.bg-success):not(.bg-info):not(.bg-warning):not(.bg-danger) {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
  color: #e0e0e0 !important;
}

body.dark-mode .card-header {
  background-color: #252525 !important;
  border-color: #3d3d3d !important;
}

/* Make colored cards slightly darker */
body.dark-mode .card.bg-primary,
body.dark-mode .card.bg-success,
body.dark-mode .card.bg-info,
body.dark-mode .card.bg-warning,
body.dark-mode .card.bg-danger {
  opacity: 0.85;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

/* Table adjustments */
body.dark-mode .table {
  color: #e0e0e0 !important;
  border-color: #3d3d3d !important;
}

body.dark-mode .table th,
body.dark-mode .table td {
  border-color: #3d3d3d !important;
}

body.dark-mode .table-hover tbody tr:hover {
  background-color: rgba(255, 255, 255, 0.075) !important;
}

/* Form controls */
body.dark-mode .form-control,
body.dark-mode .form-select {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
  color: #e0e0e0 !important;
}

body.dark-mode .form-control:focus,
body.dark-mode .form-select:focus {
  box-shadow: 0 0 0 0.25rem rgba(66, 153, 225, 0.25) !important;
}

/* Dropdowns */
body.dark-mode .dropdown-menu {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
}

body.dark-mode .dropdown-item {
  color: #e0e0e0 !important;
}

body.dark-mode .dropdown-item:hover {
  background-color: #3d3d3d !important;
  color: #ffffff !important;
}

body.dark-mode .dropdown-item.active {
  background-color: #3d3d3d !important;
  color: #ffffff !important;
  font-weight: bold;
}

/* Improved dropdown menu appearance */
body.dark-mode .navbar-nav .dropdown-menu {
  padding: 8px;
  min-width: 220px;
}

body.dark-mode .navbar-nav .dropdown-menu .dropdown-item {
  border-radius: 4px;
  padding: 8px 10px;
  margin-bottom: 2px;
  transition: all 0.2s ease;
}

body.dark-mode .navbar-nav .nav-link.active {
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

/* Footer */
body.dark-mode footer,
body.dark-mode .footer {
  background-color: #1f1f1f !important;
}

/* Text colors */
body.dark-mode .text-muted {
  color: #adb5bd !important;
}

/* Links */
body.dark-mode a:not(.btn) {
  color: #8ab4f8 !important;
}

body.dark-mode a:not(.btn):hover {
  color: #aecbfa !important;
}

/* Nav tabs with better contrast for dark mode */
body.dark-mode .nav-tabs {
  border-bottom-color: #4d4d4d !important;
}

body.dark-mode .nav-tabs .nav-link {
  color: #ffffff !important;
  background-color: #444444 !important;
  border-color: #666666 !important;
  margin-right: 3px !important;
  font-weight: 500 !important;
  padding: 8px 16px !important;
}

body.dark-mode .nav-tabs .nav-link:hover {
  background-color: #555555 !important;
  border-color: #777777 !important;
  color: #ffffff !important;
}

body.dark-mode .nav-tabs .nav-link.active {
  background-color: #0d6efd !important;
  color: #ffffff !important;
  border-color: #0d6efd !important;
  font-weight: bold !important;
  box-shadow: 0 0 8px rgba(13, 110, 253, 0.5) !important;
}

/* Buttons */
body.dark-mode .btn-outline-light {
  color: #f8f9fa !important;
  border-color: #f8f9fa !important;
}

body.dark-mode .btn-outline-light:hover {
  background-color: #f8f9fa !important;
  color: #212529 !important;
}

body.dark-mode .btn-outline-primary {
  color: #8ab4f8 !important;
  border-color: #8ab4f8 !important;
}

body.dark-mode .btn-outline-primary:hover {
  background-color: #8ab4f8 !important;
  color: #121212 !important;
}

/* Alert styles */
body.dark-mode .alert {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
  color: #e0e0e0 !important;
}

body.dark-mode .alert-success {
  background-color: rgba(40, 167, 69, 0.2) !important;
  border-color: rgba(40, 167, 69, 0.3) !important;
  color: #28a745 !important;
}

body.dark-mode .alert-danger {
  background-color: rgba(220, 53, 69, 0.2) !important;
  border-color: rgba(220, 53, 69, 0.3) !important;
  color: #f8d7da !important;
}

body.dark-mode .alert-warning {
  background-color: rgba(255, 193, 7, 0.2) !important;
  border-color: rgba(255, 193, 7, 0.3) !important;
  color: #fff3cd !important;
}

body.dark-mode .alert-info {
  background-color: rgba(23, 162, 184, 0.2) !important;
  border-color: rgba(23, 162, 184, 0.3) !important;
  color: #d1ecf1 !important;
}

/* Filter items */
body.dark-mode .filter-item:hover {
  background-color: #333 !important;
}

body.dark-mode .filter-item.active {
  background-color: #444 !important;
  font-weight: bold;
}

/* Network visualization tooltips */
body.dark-mode .tooltip {
  background-color: rgba(45, 45, 45, 0.98) !important;
  border-color: #666 !important;
  color: #e0e0e0 !important;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5) !important;
}

body.dark-mode .tooltip-title {
  border-color: #444 !important;
  color: #fff !important;
}

body.dark-mode .tooltip-label {
  color: #adb5bd !important;
}

/* Visual dashboard charts */
body.dark-mode .network-container {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
}

body.dark-mode .chart-container svg text {
  fill: #e0e0e0 !important;
}

body.dark-mode .chart-container svg line,
body.dark-mode .chart-container svg path.domain {
  stroke: #666 !important;
}

/* Images and SVG elements in dark mode */
body.dark-mode svg:not(.preserve-color) path,
body.dark-mode svg:not(.preserve-color) rect,
body.dark-mode svg:not(.preserve-color) circle,
body.dark-mode svg:not(.preserve-color) line,
body.dark-mode svg:not(.preserve-color) polyline,
body.dark-mode svg:not(.preserve-color) polygon {
  stroke: #e0e0e0 !important;
}

body.dark-mode svg.dark-mode-invert {
  filter: invert(0.85);
}

/* Dashboard logo in dark mode */
body.dark-mode .dashboard-logo {
  filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
}

/* Logo visibility for dark mode */
body.dark-mode .light-mode-logo {
  display: none !important;
}

body.dark-mode .dark-mode-logo {
  display: inline-block !important;
}

/* Dark mode specific styling for the logo container */
body.dark-mode .dashboard-logo-container {
  background: linear-gradient(145deg, #2a2a2a, #3a3a3a);
  box-shadow:
    inset 0 0 15px rgba(60, 60, 60, 0.8),
    0 6px 20px rgba(0, 0, 0, 0.5),
    0 0 0 4px rgba(70, 70, 70, 0.8),
    0 0 0 6px rgba(50, 50, 50, 0.5);
}

/* Dark mode glassy effect */
body.dark-mode .dashboard-logo-container::before {
  background: linear-gradient(135deg, rgba(80, 80, 80, 0.3) 0%, rgba(60, 60, 60, 0.05) 50%, rgba(40, 40, 40, 0) 51%, rgba(60, 60, 60, 0.05) 100%);
}

/* Dark mode acrylic glass background effect */
body.dark-mode .dashboard-logo-container::after {
  background: radial-gradient(
    circle at center,
    rgba(60, 60, 60, 0.5) 0%,
    rgba(50, 50, 50, 0.3) 60%,
    rgba(40, 40, 40, 0.1) 100%
  );
  box-shadow:
    inset 0 0 10px rgba(80, 80, 80, 0.5),
    inset 0 0 20px rgba(60, 60, 60, 0.2);
}

/* Dark mode logo shadow */
body.dark-mode .dashboard-logo-container img.dashboard-logo {
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.6)) brightness(1.2) contrast(1.2);
  mix-blend-mode: screen; /* Better blend mode for dark theme with acrylic effect */
}

/* MBP Logo container with dark mode support */
body.dark-mode .mbp-logo-container {
  background-color: #2d2d2d !important;
  border-color: #444 !important;
  box-shadow: 0 2px 4px rgba(255, 255, 255, 0.1) !important;
}

/* Modal styles */
body.dark-mode .modal-content {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
  color: #e0e0e0 !important;
}

body.dark-mode .modal-header {
  border-color: #3d3d3d !important;
}

body.dark-mode .modal-footer {
  border-color: #3d3d3d !important;
}

/* Badge styles */
body.dark-mode .badge.bg-light {
  background-color: #343a40 !important;
  color: #e0e0e0 !important;
}

/* Bootstrap components */
body.dark-mode .accordion {
  --bs-accordion-bg: #2d2d2d !important;
  --bs-accordion-border-color: #3d3d3d !important;
  --bs-accordion-color: #e0e0e0 !important;
  --bs-accordion-btn-color: #e0e0e0 !important;
}

body.dark-mode .list-group {
  --bs-list-group-bg: #2d2d2d !important;
  --bs-list-group-border-color: #3d3d3d !important;
  --bs-list-group-color: #e0e0e0 !important;
}

body.dark-mode .list-group-item {
  background-color: #2d2d2d !important;
  border-color: #3d3d3d !important;
  color: #e0e0e0 !important;
}

body.dark-mode .list-group-item.active {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
}

/* Focus-visible outlines */
body.dark-mode :focus-visible {
  outline-color: #8ab4f8 !important;
}

/* Dark mode toggle button enhancement */
body.dark-mode #theme-btn {
  box-shadow: 0 0 5px rgba(255, 255, 255, 0.5) !important;
}